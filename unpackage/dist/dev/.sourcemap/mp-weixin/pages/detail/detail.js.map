{"version":3,"sources":["uni-app:///main.js",null,"webpack:///C:/Users/Administrator/Desktop/saomaApp/仿小米商城/pages/detail/detail.vue?e0de","webpack:///C:/Users/Administrator/Desktop/saomaApp/仿小米商城/pages/detail/detail.vue?1660","webpack:///C:/Users/Administrator/Desktop/saomaApp/仿小米商城/pages/detail/detail.vue?7f5b","uni-app:///pages/detail/detail.vue","webpack:///C:/Users/Administrator/Desktop/saomaApp/仿小米商城/pages/detail/detail.vue?328e","webpack:///C:/Users/Administrator/Desktop/saomaApp/仿小米商城/pages/detail/detail.vue?8b09"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page"],"mappings":";;;;;;;;;;kDAAA;AACA;AACA,+F,6FAFmBA,EAAE,CAACC,iCAAH,GAAuCC,mBAAvC;AAGnBC,UAAU,CAACC,eAAD,CAAV,C;;;;;;;;;;;;;ACHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAA+H;AAC/H;AAC0D;AACL;AACqC;;;AAG1F;AACiL;AACjL,gBAAgB,mLAAU;AAC1B,EAAE,4EAAM;AACR,EAAE,6FAAM;AACR,EAAE,sGAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,iGAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACtBA;AAAA;AAAA;AAAA;AAA4pB,CAAgB,8oBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACoKhrB;;AAEA,gD;AACA;AACA,8BADA;AAEA,MAFA,kBAEA;AACA;AACA;AACA,oBADA;AAEA,uBAFA;AAGA,uBAHA,EADA;;AAMA,iBANA;AAOA,iBAPA;AAQA,gBARA;AASA,kBATA;AAUA,kBAVA;AAWA,qBAXA;AAYA,iBAZA;AAaA;AACA,uCADA;AAEA,uCAFA;AAGA,uCAHA;AAIA,uCAJA,CAbA;;;AAoBA,GAvBA;AAwBA;AACA,4BADA;AAEA,sBAFA;AAGA,0BAHA;AAIA,gCAJA;AAKA,4BALA;AAMA,kBANA;AAOA,cAPA;AAQA,0BARA;AASA,wBATA;AAUA,4BAVA;AAWA,gBAXA;AAYA,4BAZA;AAaA,8BAbA,EAxBA;;AAuCA;AACA,aAxCA,yBAwCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAjDA;AAkDA,QAlDA,kBAkDA,CAlDA,EAkDA;AACA;AACA;AACA;AACA,wBADA;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAHA;AAIA;AACA;AACA;AACA,0BADA;AAEA,uBAFA;AAGA,uBAHA;;AAKA,OANA;AAOA;AACA;AACA;AACA,kBADA;AAEA,4BAFA;AAGA,gCAHA;AAIA,mCAJA;AAKA,6BALA;AAMA,oCANA;AAOA,6BAPA;AAQA;AACA;AACA,WAFA,CARA;;AAYA,OAbA;AAcA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAJA;;AAMA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;AAWA;AACA;AACA;AACA,sBADA;AAEA,2BAFA;;AAIA,WALA;AAMA;AACA,oBADA;AAEA,yBAFA;AAGA,uBAHA;AAIA,sBAJA;;AAMA,SAbA;AAcA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SARA;AASA;AACA;AACA,KAxFA;AAyFA,GA7IA;AA8IA;AACA,aADA,qBACA,GADA,EACA;AACA;AACA,KAHA,EA9IA;;AAmJA;AACA;AACA,mDADA,GADA;;AAIA,eAJA,yBAIA;AACA;AACA;AACA;AACA;AACA,KATA;AAUA,aAVA,uBAUA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAlBA;AAmBA;AACA,gBApBA,0BAoBA;AACA;AACA;AACA,OAFA;AAGA;AACA;AACA,KA1BA;AA2BA;AACA,oBA5BA,8BA4BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAFA;AAGA;AACA,KArCA;AAsCA;AACA,YAvCA,sBAuCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAlDA,GAnJA;;AAuMA;AACA,2DADA;AAEA,eAFA,yBAEA;AACA;AACA,mCADA;;AAGA,KANA;AAOA;AACA,WARA,qBAQA;AACA;AACA,mDADA;;AAGA;AACA,KAbA;AAcA;AACA,aAfA,uBAeA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gHADA;AAEA,yCAFA;AAGA,8BAHA;AAIA,uBAJA;AAKA,YALA,CAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBADA;;AAGA,SAhBA;AAiBA;AACA,KAvCA;AAwCA,QAxCA,gBAwCA,GAxCA,EAwCA;AACA;AACA,KA1CA;AA2CA,QA3CA,gBA2CA,GA3CA,EA2CA;AACA;AACA;AACA;AACA;AACA;AACA,OAJA,EAIA,GAJA;AAKA,KAlDA;AAmDA,WAnDA,mBAmDA,GAnDA,EAmDA,CAnDA,EAmDA;AACA;AACA;AACA,KAtDA;AAuDA,YAvDA,oBAuDA,IAvDA,EAuDA,CAvDA,EAuDA;AACA;AACA;AACA;AACA,gCADA;AAEA,yBAFA;;AAIA,KA9DA,GAvMA,E;;;;;;;;;;;;;ACvKA;AAAA;AAAA;AAAA;AAA89B,CAAgB,u6BAAG,EAAC,C;;;;;;;;;;;ACAl/B;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages/detail/detail.js","sourcesContent":["import 'uni-pages';wx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './pages/detail/detail.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./detail.vue?vue&type=template&id=3e159eb4&scoped=true&\"\nvar renderjs\nimport script from \"./detail.vue?vue&type=script&lang=js&\"\nexport * from \"./detail.vue?vue&type=script&lang=js&\"\nimport style0 from \"./detail.vue?vue&type=style&index=0&id=3e159eb4&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!D:\\\\360安全浏览器下载\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3e159eb4\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/detail/detail.vue\"\nexport default component.exports","export * from \"-!D:\\\\360安全浏览器下载\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!D:\\\\360安全浏览器下载\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--16-0!D:\\\\360安全浏览器下载\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!D:\\\\360安全浏览器下载\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!D:\\\\360安全浏览器下载\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\360安全浏览器下载\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./detail.vue?vue&type=template&id=3e159eb4&scoped=true&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var f0 =\n    _vm.detail.sku_type === 1 ? _vm._f(\"formatStr\")(_vm.getSelectSku) : null\n\n  var f1 = _vm._f(\"formatStr\")(_vm.getSelectSku)\n\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        f0: f0,\n        f1: f1\n      }\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!D:\\\\360安全浏览器下载\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\360安全浏览器下载\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\360安全浏览器下载\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\360安全浏览器下载\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\360安全浏览器下载\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./detail.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!D:\\\\360安全浏览器下载\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\360安全浏览器下载\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\360安全浏览器下载\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\360安全浏览器下载\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\360安全浏览器下载\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./detail.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view class=\"animated fadeIn faster\" style=\"padding: 0 !important;\">\r\n\t\t<!-- 商品详情大图 -->\r\n\t\t<swiper-image :resdata=\"banners\" :height=\"750\" preview></swiper-image>\r\n\t\t<!-- 基础详情 -->\r\n\t\t<base-info :detail=\"detail\" :showPrice=\"showPrice\"/>\r\n\t\t<!-- 滚动商品特性 -->\r\n\t\t<scroll-attr :baseAttr=\"baseAttr\" />\r\n\t\t<!-- 属性选择 -->\r\n\t\t<view class=\"px-2 mt-3 mb-2\">\r\n\t\t\t<view class=\"rounded border\" style=\"background-color: #f5f5f3;\">\r\n\t\t\t\t<!-- 规格 -->\r\n\t\t\t\t<uni-list-item @click=\"show('attr')\" v-if=\"detail.sku_type === 1\">\r\n\t\t\t\t\t<view class=\"d-flex a-center\">\r\n\t\t\t\t\t\t<text class=\"line-h-sm mr-2\">已选</text>\r\n\t\t\t\t\t\t<text class=\"text-light-muted line-h-sm\">{{getSelectSku | formatStr}}</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<template #icon>\r\n\t\t\t\t\t\t<text class=\"iconfont icon-you text-light-muted\"></text>\r\n\t\t\t\t\t</template>\r\n\t\t\t\t</uni-list-item>\r\n\t\t\t\t\r\n\t\t\t\t<!-- 优惠券 -->\r\n\t\t\t\t<uni-list-item @click=\"navToCoupon\">\r\n\t\t\t\t\t\t<view class=\"d-flex a-center\">\r\n\t\t\t\t\t\t\t<text class=\"mr-2\">优惠券</text>\r\n\t\t\t\t\t\t\t<text class=\"main-text-color\">马上领取</text>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t<template #icon>\r\n\t\t\t\t\t\t<text class=\"iconfont icon-you text-light-muted\"></text>\r\n\t\t\t\t\t</template>\r\n\t\t\t\t</uni-list-item>\r\n\t\t\t\t<!-- 配送地址 -->\r\n\t\t\t\t<uni-list-item @click=\"show('express')\">\r\n\t\t\t\t\t\t<view class=\"d-flex a-center\">\r\n\t\t\t\t\t\t\t<text class=\"line-h-sm\">配送</text>\r\n\t\t\t\t\t\t\t<text class=\"ml-2 text-light-muted line-h-sm\">北京 东城区</text>\r\n\t\t\t\t\t\t\t<text class=\"ml-2 main-text-color line-h-sm\">有现货</text>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t<template #icon>\r\n\t\t\t\t\t\t<text class=\"iconfont icon-you text-light-muted\"></text>\r\n\t\t\t\t\t</template>\r\n\t\t\t\t</uni-list-item>\r\n\t\t\t\t<!-- 其他信息 -->\r\n\t\t\t\t<uni-list-item extraWidth=\"8%\" @click=\"show('service')\">\r\n\t\t\t\t\t\t<view class=\"d-flex a-center\">\r\n\t\t\t\t\t\t\t<view class=\"font text-muted d-flex\">\r\n\t\t\t\t\t\t\t\t<view class=\"iconfont icon-finish  main-text-color mr-1\"></view>\r\n\t\t\t\t\t\t\t\t小米自营\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t<view class=\"font text-muted d-flex mr-1\">\r\n\t\t\t\t\t\t\t\t<view class=\"iconfont icon-finish main-text-color mr-1\"></view>\r\n\t\t\t\t\t\t\t\t小米发货\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t<view class=\"font text-muted d-flex mr-1\">\r\n\t\t\t\t\t\t\t\t<view class=\"iconfont icon-finish main-text-color mr-1\"></view>\r\n\t\t\t\t\t\t\t\t七天无理由退款\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t<template #icon>\r\n\t\t\t\t\t\t<text class=\"iconfont icon-you text-light-muted\"></text>\r\n\t\t\t\t\t</template>\r\n\t\t\t\t</uni-list-item>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\r\n\t\t<!-- 横向滚动评论 -->\r\n\t\t<scroll-comment :comments=\"comments\" :goods_id=\"detail.id\"/>\r\n\t\t\r\n\t\t\r\n\r\n\t\t<!-- 商品详情 -->\r\n\t\t<view class=\"border-top\">\r\n\t\t\t<u-parse className=\"uparse\" :content=\"context\" @preview=\"preview\" @navigate=\"navigate\"></u-parse>\r\n\t\t</view>\r\n\t\t\r\n\t\t<!-- 热门推荐 -->\r\n\t\t<card headTitle=\"热门推荐\" :titleWeight=\"false\" :showBorderBottom=\"false\" :showCover=\"false\"></card>\r\n\t\t<view class=\"row j-sb\">\r\n\t\t\t<common-list v-for=\"(item,index) in common_list\" type=\"redirectTo\" :key=\"index\" :item=\"item\" :index=\"index\"></common-list>\r\n\t\t</view>\r\n\t\t\r\n\t\t<!-- 底部操作条 -->\r\n\t\t<bottom-btn @show=\"show('attr')\"></bottom-btn>\r\n\t\t\r\n\t\t<!-- 弹出框规格 -->\r\n\t\t<common-popup :popupClass=\"popup.attr\" @hide=\"hide('attr')\">\r\n\t\t\t<view class=\"d-flex a-center\" style=\"height: 270rpx;\">\r\n\t\t\t\t\r\n\t\t\t\t<image :src=\"showSkuImag\" style=\"height: 180rpx; width: 180rpx;\"></image>\r\n\t\t\t\t<view class=\"pl-2 flex-1\">\r\n\t\t\t\t\t<price :fontWeight=\"true\" priceSize=\"font-lg\" class=\"line-h-sm\">{{showPrice}}</price>\r\n\t\t\t\t\t<text class=\"line-h-sm\">{{getSelectSku | formatStr}}</text>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<scroll-view scroll-y class=\"border-bottom\" style=\"height: 560rpx;\">\r\n\t\t\t\t\t<card :headTitle=\"item.title\" :showCover=\"false\" :showBorderBottom=\"false\" :titleWeight=\"false\" v-for=\"(item,index) in selects\" :key=\"index\">\r\n\t\t\t\t\t\t<radio-groups :label=\"item\" :selected.sync=\"item.selected\"></radio-groups>\r\n\t\t\t\t\t</card>\r\n\t\t\t</scroll-view>\r\n\t\t\t<view class=\"d-flex j-sb a-center\" style=\"height: 129rpx;\">\r\n\t\t\t\t<view class=\"font\">购买数量</view>\r\n\t\t\t\t<uni-number-box :max=\"maxStock\" :min=\"detail.minnum\" :value.sync=\"detail.num\"></uni-number-box>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"text-white d-flex a-center j-center\" \r\n\t\t\t@click=\"addCartFn\" style=\"margin-left: -4.3%; margin-right: -4%; height: 100rpx;\" \r\n\t\t\t:hover-class=\"maxStock > 0 ? 'main-bg-hover-color' : ''\"\r\n\t\t\t:class=\"maxStock > 0 ? 'main-bg-color' : 'bg-secondary'\">\r\n\t\t\t\t{{maxStock > 0 ? '加入购物车' : '暂无库存'}}\r\n\t\t\t</view>\r\n\t\t</common-popup>\r\n\t\t\r\n\t\t<!-- 弹出框收货地址 -->\r\n\t\t<common-popup :popupClass=\"popup.express\" @hide=\"hide('express')\">\r\n\t\t\t<view class=\"d-flex j-center a-center font-weight font-md\" style=\"height: 100rpx;\">收货地址</view>\r\n\t\t\t<scroll-view scroll-y class=\"border-top main-border-color\" style=\"height: 835rpx;\">\r\n\t\t\t\t<uni-list-item class=\"font-weight\" style=\"margin: 0 -30rpx;\" v-for=\"(item,index) in list\" :key=\"index\">\r\n\t\t\t\t\t<view class=\"d-flex a-center\">\r\n\t\t\t\t\t\t<view class=\"iconfont icon-dingwei mr-2\"></view>{{item.name}}\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"text-light-muted font\">{{item.path}}</view>\r\n\t\t\t\t\t\t<template #icon>\r\n\t\t\t\t\t\t\t<text class=\"iconfont icon-you text-light-muted\"></text>\r\n\t\t\t\t\t\t</template>\r\n\t\t\t\t</uni-list-item>\r\n\t\t\t</scroll-view>\r\n\t\t\t<view class=\"main-bg-color text-white d-flex a-center j-center\" style=\"margin-left: -4.3%; margin-right: -4%; height: 100rpx\" @click=\"addPath\" hover-class=\"main-bg-hover-color\">\r\n\t\t\t\t选择新地址\r\n\t\t\t</view>\r\n\t\t</common-popup>\r\n\t\t\r\n\t\t<!-- 弹出框服务说明 -->\r\n\t\t<common-popup :popupClass=\"popup.service\" @hide=\"hide('service')\">\r\n\t\t\t<view class=\"d-flex j-center a-center font-weight font-md\" style=\"height: 100rpx;\">服务说明</view>\r\n\t\t\t<scroll-view scroll-y class=\"border-top main-border-color\" style=\"height: 835rpx;\">\r\n\t\t\t\t<view class=\"font-md my-2\">\r\n\t\t\t\t\t<view class=\"d-flex\">\r\n\t\t\t\t\t\t<view class=\"iconfont icon-finish main-text-color ml-1\"></view>小米自营\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<text class=\"font-sm text-light-muted ml-4\">不管满多少，就是不包邮</text>\r\n\t\t\t\t</view>\r\n\t\t\t</scroll-view>\r\n\t\t\t<view class=\"main-bg-color text-white d-flex a-center j-center\" style=\"margin-left: -4.3%; margin-right: -4%; height: 100rpx\" hover-class=\"main-bg-hover-color\">\r\n\t\t\t\t确定\r\n\t\t\t</view>\r\n\t\t</common-popup>\r\n\t\t<my-loading :beforeReady=\"beforeReady\"/>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\nimport swiperImage from '@/components/index/swiper-image.vue';\r\nimport baseInfo from '@/components/detail/base-info.vue';\r\nimport scrollAttr from '@/components/detail/scroll-attr.vue';\r\nimport scrollComment from '@/components/detail/scroll-comment.vue';\r\nimport uniListItem from '@/components/uni-ui/uni-list-item/uni-list-item.vue';\r\nimport uParse from '@/components/uni-ui/uParse/src/wxParse.vue';\r\nimport card from '@/components/common/card.vue';\r\nimport commonList from '@/components/common/common-list.vue';\r\nimport bottomBtn from '@/components/detail/bottom-btn.vue';\r\nimport commonPopup from '@/components/common/common-popup.vue';\r\nimport price from '@/components/common/price.vue';\r\nimport radioGroups from '@/components/common/radio-groups.vue';\r\nimport uniNumberBox from '@/components/uni-ui/uni-number-box/uni-number-box.vue';\r\nimport myLoading from \"@/mixins/my-loading.js\"\r\n\r\nimport {mapMutations,mapState} from 'vuex'\r\nexport default {\r\n\tmixins:[myLoading],\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\tpopup:{\r\n\t\t\t\tattr:'none',\r\n\t\t\t\texpress:'none',\r\n\t\t\t\tservice:'none'\r\n\t\t\t},\r\n\t\t\tselects:[],\r\n\t\t\tbanners: [],\r\n\t\t\tdetail: {},\r\n\t\t\tbaseAttr: [],\r\n\t\t\tcomments: [],\r\n\t\t\tcommon_list:[],\r\n\t\t\tcontext: '',\r\n\t\t\timg:[\r\n\t\t\t\t'/static/images/demo/cate_01.png',\r\n\t\t\t\t'/static/images/demo/cate_02.png',\r\n\t\t\t\t'/static/images/demo/cate_03.png',\r\n\t\t\t\t'/static/images/demo/cate_04.png'\r\n\t\t\t\t]\r\n\t\t};\r\n\t},\r\n\tcomponents: {\r\n\t\tswiperImage,\r\n\t\tbaseInfo,\r\n\t\tscrollAttr,\r\n\t\tscrollComment,\r\n\t\tuniListItem,\r\n\t\tuParse,\r\n\t\tcard,\r\n\t\tcommonList,\r\n\t\tbottomBtn,\r\n\t\tcommonPopup,\r\n\t\tprice,\r\n\t\tradioGroups,\r\n\t\tuniNumberBox\r\n\t},\r\n\t//监听页面返回\r\n\tonBackPress(){\r\n\t\tfor(let key in this.popup){\r\n\t\t\t//模态框打开状态\r\n\t\t\tif(this.popup[key] !== 'none'){\r\n\t\t\t\tthis.popup[key]='none'\r\n\t\t\t\t//阻止页面返回s\r\n\t\t\t\treturn true\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\tonLoad(e) {\r\n\t\tlet id = JSON.parse(e.detail).id\r\n\t\tthis._api.get(`goods/${id}`).then(res=>{\r\n\t\t\tuni.setNavigationBarTitle({\r\n\t\t\t\ttitle:res.title\r\n\t\t\t})\r\n\t\t\t//商品详情\r\n\t\t\tthis.detail = res\r\n\t\t\tthis.detail.num=1\r\n\t\t\t// 轮播图\r\n\t\t\t\tthis.banners = res.goodsBanner.map(v=>{\r\n\t\t\t\t\tv.src=v.url\r\n\t\t\t\t\treturn v\r\n\t\t\t\t})\r\n\t\t\t//基础属性\r\n\t\t\tthis.baseAttr=res.goodsAttrs.map(v=>{\r\n\t\t\t\treturn {\r\n\t\t\t\t\ticon: 'icon-cpu',\r\n\t\t\t\t\t title: v.name,\r\n\t\t\t\t\t  desc: v.value\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t//热门评论\r\n\t\t\tlet comments=res.hotComments.map(v=>{\r\n\t\t\t\treturn{\r\n\t\t\t\t\tid:v.id,\r\n\t\t\t\t\tuser_id:v.user.id,\r\n\t\t\t\t\tuserpic: v.user.avatar,\r\n\t\t\t\t\tusername: v.user.nickname,\r\n\t\t\t\t\tdesc: v.review.data,\r\n\t\t\t\t\tcreate_time: v.review_time,\r\n\t\t\t\t\tgoods_num: v.rating,\r\n\t\t\t\t\timgList: v.review.image.map(j=>{\r\n\t\t\t\t\t\treturn {src:j}\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t//模拟数据因为接口只有一条\r\n\t\t\tfor (let i = 0 ; i < 4;i++) {\r\n\t\t\t\tthis.comments.push(...comments)\r\n\t\t\t}\r\n\t\t\t//热门商品\r\n\t\t\t this.common_list = res.hotList.map(v=>{\r\n\t\t\t\tv.oprice = v.min_oprice\r\n\t\t\t\tv.pprice = v.min_price\r\n\t\t\t\treturn v\r\n\t\t\t})\r\n\t\t\t\r\n\t\t\t//商品其他详情\r\n\t\t\tthis.context = res.content\r\n\t\t\t//多规格\r\n\t\t\tif(this.detail.sku_type===1){\r\n\t\t\t\t//商品规格\r\n\t\t\t\t/*\r\n\t\t\t\t{\r\n\t\t\t\t\tid:0,\r\n\t\t\t\t\ttitle:'0',\r\n\t\t\t\t\tselected:0,\r\n\t\t\t\t\tlist:[{\r\n\t\t\t\t\t\tid:0,\r\n\t\t\t\t\t\tname:''\r\n\t\t\t\t\t}]\r\n\t\t\t\t}\r\n\t\t\t\t*/\r\n\t\t\t\tthis.selects=res.goodsSkusCard.map(v=>{\r\n\t\t\t\t\t let list=v.goodsSkusCardValue.map(j=>{\r\n\t\t\t\t\t\t return {\r\n\t\t\t\t\t\t\t id :j.id,\r\n\t\t\t\t\t\t\t name : j.value\r\n\t\t\t\t\t\t }\r\n\t\t\t\t\t})\r\n\t\t\t\t\treturn {\r\n\t\t\t\t\t\tid:v.id,\r\n\t\t\t\t\t\ttitle:v.name,\r\n\t\t\t\t\t\tselected:0,\r\n\t\t\t\t\t\tlist\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\t//生成 skuText 字段\r\n\t\t\t\tthis.detail.goodsSkus.forEach((item,index)=>{\r\n\t\t\t\t\t//生成模拟 sku 对应的商品图片\r\n\t\t\t\t\titem.image = this.img[index]\r\n\t\t\t\t\tlet arr = []\r\n\t\t\t\t\tfor(let key in item.skus){\r\n\t\t\t\t\t\tarr.push(item.skus[key].value)\r\n\t\t\t\t\t}\r\n\t\t\t\t\titem.skuText = arr.join(',')\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t\tthis.beforeReady=false\r\n\t\t})\r\n\t},\r\n\tfilters:{\r\n\t\tformatStr(val){\r\n\t\t\treturn val.replace(',',' ')\r\n\t\t}\r\n\t},\r\n\tcomputed:{\r\n\t\t...mapState('pathModule',{\r\n\t\t\tlist:state=>state.list\r\n\t\t}),\r\n\t\tshowSkuImag(){\r\n\t\t\tlet index = this.checkedSkusIndex\r\n\t\t\tif(index !== -1){\r\n\t\t\t\treturn this.detail.goodsSkus[index].image\r\n\t\t\t}\r\n\t\t},\r\n\t\tshowPrice(){\r\n\t\t\tlet index = this.checkedSkusIndex\r\n\t\t\t//没选 sku 规格就显示基础价格\r\n\t\t\tif(index === -1){\r\n\t\t\t\treturn this.detail.min_oprice || 0.00\r\n\t\t\t}\r\n\t\t\t//选中了 就根据匹配的 sku 的 index 获取对应 sku 的价格\r\n\t\t\treturn this.detail.goodsSkus[index].pprice\r\n\t\t},\r\n\t\t//获取选中的 sku 配置\r\n\t\tgetSelectSku(){\r\n\t\t\t let checkSku = this.selects.map(v=>{\r\n\t\t\t\t   return v.list[v.selected].name\r\n\t\t\t\t})\r\n\t\t\t//转换为 字符串并返回\r\n\t\t\treturn checkSku.join(',')\r\n\t\t},\r\n\t\t//根据选中sku 和 detail 中的 skuText 匹配，并获取对应 sku 中的价格\r\n\t\tcheckedSkusIndex(){\r\n\t\t\t//防止 this.detail.goodsSkus 还没生成时，计算属性更新 this.detail.goodsSkus 为 undefinde 的情况\r\n\t\t\tif (!Array.isArray(this.detail.goodsSkus)) {\r\n\t\t\t\treturn -1\r\n\t\t\t}\r\n\t\t\tlet index =  this.detail.goodsSkus.findIndex(v=>{\r\n\t\t\t\treturn v.skuText === this.getSelectSku\r\n\t\t\t})\r\n\t\t\treturn index\r\n\t\t},\r\n\t\t//获取最大库存\r\n\t\tmaxStock(){\r\n\t\t\t//单规格\r\n\t\t\tif(this.detail.sku_type===0){\r\n\t\t\t\treturn this.detail.stock\r\n\t\t\t}\r\n\t\t\t//多规格\r\n\t\t\tlet index = this.checkedSkusIndex\r\n\t\t\tif(index !== -1){\r\n\t\t\t\tthis.detail.num =  this.detail.goodsSkus[index].stock > 0 ? this.detail.num : 0\r\n\t\t\t\treturn this.detail.goodsSkus[index].stock\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\tmethods: {\r\n\t\t...mapMutations('cartModule',['addGoodsToCart']),\r\n\t\tnavToCoupon(){\r\n\t\t\tthis.navigateTo({\r\n\t\t\t\turl:\"/pages/coupon/coupon\"\r\n\t\t\t})\r\n\t\t},\r\n\t\t//选择新地址页面\r\n\t\taddPath(){\r\n\t\t\tuni.navigateTo({\r\n\t\t\t\turl:\"/pages/user-path-edit/user-path-edit\"\r\n\t\t\t})\r\n\t\t\tthis.hide('express')\r\n\t\t},\r\n\t\t//添加购物车\r\n\t\taddCartFn(){\r\n\t\t\t//有库存是才执行\r\n\t\t\tif(this.maxStock > 0){\r\n\t\t\t\t//整合数据\r\n\t\t\t\tthis.detail['attrs']=this.selects\r\n\t\t\t\tthis.detail['checked']=false\r\n\t\t\t\tthis._api.post('cart',{\r\n\t\t\t\t\tshop_id:this.detail.sku_type === 0 ? this.detail.id : this.detail.goodsSkus[this.checkedSkusIndex].id,\r\n\t\t\t\t\tskus_type:this.detail.sku_type,\r\n\t\t\t\t\tnum:this.detail.num},\r\n\t\t\t\t\t{token:true}\r\n\t\t\t\t\t).then(res=>{\r\n\t\t\t\t\t\t//通知购物车页面请求更新\r\n\t\t\t\t\t\tuni.$emit('updateCart')\r\n\t\t\t\t\t\t//添加到购物车\r\n\t\t\t\t\t\tthis.addGoodsToCart(this.detail)\r\n\t\t\t\t\t\t//关闭popup\r\n\t\t\t\t\t\tthis.hide('attr')\r\n\t\t\t\t\t\t//保存成功提示\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ttitle: '加入成功'\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t})\r\n\t\t\t}\r\n\t\t},\r\n\t\tshow(key){\r\n\t\t\tthis.popup[key]=\"show\"\r\n\t\t},\r\n\t\thide(key){\r\n\t\t\tthis.popup[key]=\"hide\"\r\n\t\t\tlet timer = setTimeout(()=>{\r\n\t\t\t\tthis.popup[key]=\"none\"\r\n\t\t\t\tclearTimeout(timer)\r\n\t\t\t\ttimer=null\r\n\t\t\t},200)\r\n\t\t},\r\n\t\tpreview(src, e) {\r\n\t\t\t// do something\r\n\t\t\tconsole.log('src: ' + src);\r\n\t\t},\r\n\t\tnavigate(href, e) {\r\n\t\t\t// 如允许点击超链接跳转页面，则应该打开一个新页面，并传入href，由新页面内嵌webview组件负责显示该链接内容\r\n\t\t\tconsole.log('href: ' + href);\r\n\t\t\tuni.showModal({\r\n\t\t\t\tcontent: '点击链接为：' + href,\r\n\t\t\t\tshowCancel: false\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n\t.uparse{\r\n\t\tpadding: 0 !important;\r\n\t\tmargin-left: -5rpx;\r\n\t\tline-height: 0 !important;\r\n\t}\r\n\t\r\n\t\r\n\t/* ::v-deep .uni-list-item__content{\r\n\t\tflex-wrap: wrap !important;\r\n\t} */\r\n</style>\r\n","import mod from \"-!D:\\\\360安全浏览器下载\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!D:\\\\360安全浏览器下载\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--6-oneOf-1-1!D:\\\\360安全浏览器下载\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\360安全浏览器下载\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-2!D:\\\\360安全浏览器下载\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!D:\\\\360安全浏览器下载\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\360安全浏览器下载\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./detail.vue?vue&type=style&index=0&id=3e159eb4&scoped=true&lang=css&\"; export default mod; export * from \"-!D:\\\\360安全浏览器下载\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!D:\\\\360安全浏览器下载\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--6-oneOf-1-1!D:\\\\360安全浏览器下载\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\360安全浏览器下载\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-2!D:\\\\360安全浏览器下载\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!D:\\\\360安全浏览器下载\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\360安全浏览器下载\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./detail.vue?vue&type=style&index=0&id=3e159eb4&scoped=true&lang=css&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1645975249113\n      var cssReload = require(\"D:/360安全浏览器下载/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}